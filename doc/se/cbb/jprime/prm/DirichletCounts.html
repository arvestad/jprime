<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_04) on Tue Jun 26 15:18:13 CEST 2012 -->
<title>DirichletCounts</title>
<meta name="date" content="2012-06-26">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DirichletCounts";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DirichletCounts.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../se/cbb/jprime/prm/DependencyValueMap.html" title="class in se.cbb.jprime.prm"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../se/cbb/jprime/prm/DiscreteAttribute.html" title="interface in se.cbb.jprime.prm"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?se/cbb/jprime/prm/DirichletCounts.html" target="_top">Frames</a></li>
<li><a href="DirichletCounts.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">se.cbb.jprime.prm</div>
<h2 title="Class DirichletCounts" class="title">Class DirichletCounts</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>se.cbb.jprime.prm.DirichletCounts</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">DirichletCounts</span>
extends java.lang.Object</pre>
<div class="block">For a discrete child PRM attribute and a set of discrete parent attributes, computes and stores counts
 of all entity value configurations (vp1,...,vpk,vc) for parent values vpi and child value vc.
 Furthermore, assuming parameter independence, it holds a Dirichlet hyperparameter representing
 the prior belief bestowed upon (any) configuration (i.e. the hyperparameter is invariant).
 It is possible to let the number of parents be 0, in which case only child entities are counted.
 <p/>
 <b>
 In particular, this class provides an estimator for the conditional probability P(vc | vp1,...,vpk),
 in that it has a method returning E[P(vc | vp1,...,vpk) | I] where I refers to the current entity
 instantiation. One can also compute the log-likelihood, sum_e(log P(e | par(e)) for all entities
 e of I of the child attribute.
 </b>
 <p/>
 Interestingly, the counts are held as doubles, so that also soft completions for latent
 attributes may be counted in a "weighted" manner.
 <p/>
 The counts are maintained on a hash-basis internally, meaning that memory complexity is
 O(k) where k is the number of encountered value configurations, not possible value configurations.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Joel Sj√∂strand.</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../se/cbb/jprime/prm/DirichletCounts.html#DirichletCounts(se.cbb.jprime.prm.Dependencies, double)">DirichletCounts</a></strong>(<a href="../../../../se/cbb/jprime/prm/Dependencies.html" title="class in se.cbb.jprime.prm">Dependencies</a>&nbsp;dependencies,
               double&nbsp;dirichletParam)</code>
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../se/cbb/jprime/prm/DirichletCounts.html#getChildCardinality()">getChildCardinality</a></strong>()</code>
<div class="block">Returns the number of valid child values.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../../se/cbb/jprime/prm/DirichletCounts.html#getCount(int[])">getCount</a></strong>(int[]&nbsp;pcVals)</code>
<div class="block">Returns the count of a certain configuration (vp1,...,vpk,vc).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../../se/cbb/jprime/prm/DirichletCounts.html#getExpectedConditionalProb(int)">getExpectedConditionalProb</a></strong>(int&nbsp;cIdx)</code>
<div class="block">Shorthand for obtaining E[P(vc | vp1,...,vpk) | I] for a specific child
 entity, see <code>getExpectedConditionalProb(int[] pcVals)</code> for more details.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../../se/cbb/jprime/prm/DirichletCounts.html#getExpectedConditionalProb(int[])">getExpectedConditionalProb</a></strong>(int[]&nbsp;pcVals)</code>
<div class="block">Returns E[P(vc | vp1,...,vpk) | I] where vc is the child value,
 vpi the parent values, and I the complete current entity assignment.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../se/cbb/jprime/math/LogDouble.html" title="class in se.cbb.jprime.math">LogDouble</a></code></td>
<td class="colLast"><code><strong><a href="../../../../se/cbb/jprime/prm/DirichletCounts.html#getLikelihood()">getLikelihood</a></strong>()</code>
<div class="block">Returns the likelihood, and thus log-likelihood, sum_e(log P(e | par(e))) for all child entities
 e of the current instantiation I.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../se/cbb/jprime/prm/DirichletCounts.html#getParentCardinality()">getParentCardinality</a></strong>()</code>
<div class="block">Returns the number of valid parent value configurations (vp1,...,vpk).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../../se/cbb/jprime/prm/DirichletCounts.html#getSummedCount(int[])">getSummedCount</a></strong>(int[]&nbsp;pVals)</code>
<div class="block">Returns the count of a certain parent configuration (vp1,...,vpk) summed
 over all child values.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int[]</code></td>
<td class="colLast"><code><strong><a href="../../../../se/cbb/jprime/prm/DirichletCounts.html#getValueConfig(int)">getValueConfig</a></strong>(int&nbsp;cIdx)</code>
<div class="block">Convenience method.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../se/cbb/jprime/prm/DirichletCounts.html#update()">update</a></strong>()</code>
<div class="block">Recounts all parent-child value configurations.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DirichletCounts(se.cbb.jprime.prm.Dependencies, double)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DirichletCounts</h4>
<pre>public&nbsp;DirichletCounts(<a href="../../../../se/cbb/jprime/prm/Dependencies.html" title="class in se.cbb.jprime.prm">Dependencies</a>&nbsp;dependencies,
               double&nbsp;dirichletParam)</pre>
<div class="block">Constructor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dependencies</code> - the dependencies.</dd><dd><code>dirichletParam</code> - the Dirichlet hyperparameter, invariant for all possible
        configurations.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="update()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update()</pre>
<div class="block">Recounts all parent-child value configurations.</div>
</li>
</ul>
<a name="getExpectedConditionalProb(int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpectedConditionalProb</h4>
<pre>public&nbsp;double&nbsp;getExpectedConditionalProb(int[]&nbsp;pcVals)</pre>
<div class="block">Returns E[P(vc | vp1,...,vpk) | I] where vc is the child value,
 vpi the parent values, and I the complete current entity assignment.
 If there are no parents, returns the E[P(vc) | I].
 <p/>
 If no such value configurations have been encountered, returns 1.0/|v(c)|.
 <p/>
 No bounds checking. Note: The order vp1,...,vpk refers to that
 returned by the <code>getAll()</code> method of <code>Dependencies</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pcVals</code> - the attribute values converted to integers in this
        order: (vp1,...,vpk,vc). Conversion must comply with
        the attributes' method <code>getEntityAsInt()</code>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the expected conditional probability of the child value given the parent values.</dd></dl>
</li>
</ul>
<a name="getExpectedConditionalProb(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpectedConditionalProb</h4>
<pre>public&nbsp;double&nbsp;getExpectedConditionalProb(int&nbsp;cIdx)</pre>
<div class="block">Shorthand for obtaining E[P(vc | vp1,...,vpk) | I] for a specific child
 entity, see <code>getExpectedConditionalProb(int[] pcVals)</code> for more details.
 <b>Important note: If containing latent attributes, uses their current hard assignment.</b></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the expected conditional probability of the child value given the parent values.</dd></dl>
</li>
</ul>
<a name="getChildCardinality()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChildCardinality</h4>
<pre>public&nbsp;int&nbsp;getChildCardinality()</pre>
<div class="block">Returns the number of valid child values.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the number of valid child values.</dd></dl>
</li>
</ul>
<a name="getParentCardinality()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParentCardinality</h4>
<pre>public&nbsp;int&nbsp;getParentCardinality()</pre>
<div class="block">Returns the number of valid parent value configurations (vp1,...,vpk).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the number of valid parent value configurations.</dd></dl>
</li>
</ul>
<a name="getCount(int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCount</h4>
<pre>public&nbsp;double&nbsp;getCount(int[]&nbsp;pcVals)</pre>
<div class="block">Returns the count of a certain configuration (vp1,...,vpk,vc).
 The count may be a non-integer float if one
 of the pertinent attributes is latent with a soft completion.
 No bounds checking. Note: The order vp1,...,vpk refers to that
 returned by the <code>getAll()</code> method of <code>Dependencies</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pcVals</code> - the configuration in the order outlined above.
        The conversion to integers must comply the attributes' method
        <code>getEntityAsInt()</code>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the count, possibly 0.</dd></dl>
</li>
</ul>
<a name="getSummedCount(int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSummedCount</h4>
<pre>public&nbsp;double&nbsp;getSummedCount(int[]&nbsp;pVals)</pre>
<div class="block">Returns the count of a certain parent configuration (vp1,...,vpk) summed
 over all child values. The count may be a non-integer float if one
 of the pertinent attributes is latent with a soft completion.
 No bounds checking. Note: The order vp1,...,vpk refers to that
 returned by the <code>getAll()</code> method of <code>Dependencies</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pVals</code> - the configuration in the order outlined above.
        The conversion to integers must comply the attributes' method
        <code>getEntityAsInt()</code>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the count, possibly 0.</dd></dl>
</li>
</ul>
<a name="getValueConfig(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValueConfig</h4>
<pre>public&nbsp;int[]&nbsp;getValueConfig(int&nbsp;cIdx)</pre>
<div class="block">Convenience method.
 Returns the value configuration (vp1,...,vpk,vc) for parent values
 vpi and child value vc for a certain child entity. The values correspond to
 the indexing of the attribute's method <code>getEntityAsInt()</code>.
 Note: The order vp1,...,vpk refers to that
 returned by the <code>getAll()</code> method of <code>Dependencies</code>.
 <b>Important note: If containing latent attributes, their current hard assignment
 will be used.</b></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cIdx</code> - the child entity.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the value configuration.</dd></dl>
</li>
</ul>
<a name="getLikelihood()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getLikelihood</h4>
<pre>public&nbsp;<a href="../../../../se/cbb/jprime/math/LogDouble.html" title="class in se.cbb.jprime.math">LogDouble</a>&nbsp;getLikelihood()</pre>
<div class="block">Returns the likelihood, and thus log-likelihood, sum_e(log P(e | par(e))) for all child entities
 e of the current instantiation I. In doing this, it uses parameters which were previously
 estimated as E[P(vc | vp1,...,vpk) | I], typically derived from an older instantiation I in the case of latent
 attributes.
 <b>Important note: For latent attributes, the likelihood is computed using the entities' current soft completion.</b></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the likelihood.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DirichletCounts.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../se/cbb/jprime/prm/DependencyValueMap.html" title="class in se.cbb.jprime.prm"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../se/cbb/jprime/prm/DiscreteAttribute.html" title="interface in se.cbb.jprime.prm"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?se/cbb/jprime/prm/DirichletCounts.html" target="_top">Frames</a></li>
<li><a href="DirichletCounts.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
